<div #wrapper data-wrapper>
    <div teqPhaseHover [name]="phase.name">
        <img src="{{ image }}" alt="" />

        <div>
            <div>
                <div data-title>
                    <h4>{{ phase.name | uppercase }}</h4>
                    <teq-information-provider [type]="'phase'" [id]="phase.id" [entity]="phase"></teq-information-provider>
                </div>
                <div data-completion>
                    <div>
                        <div>
                            <span>{{ methodsCount }}</span>
                            <span>/{{ methodsCountAll }}</span>
                        </div>
                        <div>
                            <span>{{ approachesCount }}</span>
                            <span>/{{ approachesCountAll }}</span>
                        </div>
                    </div>
                    <div data-labels>
                        <div>
                            <span>Methods</span>
                        </div>
                        <div>
                            <span>Approaches</span>
                        </div>
                    </div>
                </div>
            </div>

            <div data-roles>
                <span data-role-name>{{ "Roles" | uppercase }}</span>
                <div>
                    <teq-label *ngFor="let role of roles | slice:0:2" [borderColor]="role.role.color">
                        <div>
                            <span>{{ role.role.name }}</span>
                        </div>
                        <teq-badge #badge *ngIf="role.count !== undefined" [backgroundColor]="role.role.color" [color]="'#ffffff'">{{ role.count }}</teq-badge>
                    </teq-label>
                    <teq-label [borderColor]="'#bdbcbc'" *ngIf="roles.length > 2">
                        <div>
                            <span>{{ roles.length - 2 }} more...</span>
                        </div>
                    </teq-label>
                </div>
            </div>
        </div>

        <div data-cta>
            <span>Explore</span>
            <img src="/assets/img/caret-outlined.svg" alt="" />
        </div>

        <div data-bar class="{{ phase.name | lowercase }}"></div>
    </div>

    <div>
        <h3>{{ "Subphases" | uppercase }}</h3>
        <div data-subphases-wrapper>
            <teq-subphase-tab *ngFor="let subphase of phase.subphases" [subphase]="subphase"></teq-subphase-tab>
        </div>
    </div>
</div>
